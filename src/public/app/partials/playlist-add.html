<div class="panel panel-info">
    <div class="panel-heading">
        <div class="row">
            <div class="col-sm-10">
                <h5 class="panel-title">
                    {{asset.showAssets ? asset.showAssets.assets.length : 0}}&nbsp;nội dung
                    <span class="text-muted">&nbsp;(Kéo để thêm / xóa)</span>
                </h5>
            </div>
            <div class="col-sm-2"><a ng-click="done()" class="btn btn-primary pull-right">Xong</a></div>
        </div>
    </div>

    <ul as-sortable="sortable.options" ng-model="asset.showAssets.assets" style="min-height:50px;" class="list-group">
        <li ng-repeat="file in asset.showAssets.assets" as-sortable-item="as-sortable-item" style="margin:0px;"
            ng-class="{&quot;list-group-item-danger&quot;:file.deleted}" class="list-group-item">

            <div as-sortable-item-handle="as-sortable-item-handle" class="row">

                <div class="col-sm-2">
                    <a ng-click="fn.showDetails(file.fileDetails.name)" class="pull-right">
                        <img ng-if="file.fileDetails.thumbnail" ng-src="{{file.fileDetails.thumbnail}}"
                             class="media-object img-rounded"/>

                        <!--<img ng-if="file.fileDetails.thumbnail && file.fileDetails.type != 'video'"
                            ng-src="{{file.fileDetails.thumbnail}}" class="media-object img-rounded"/>

                        <div ng-if="file.fileDetails.thumbnail && file.fileDetails.type == 'video'"
                             class="letter-box media-object img-rounded">
                            <span><i class="fa fa-video"></i></span>
                        </div>-->

                        <div ng-if="!file.fileDetails.thumbnail" class="letter-box media-object img-rounded">
                            <span ng-if="file.fileDetails.type == &quot;audio&quot;">
                                <i class="fa fa-music"></i>
                            </span>
                            <span ng-if="file.fileDetails.type != &quot;audio&quot;">
                                {{file.fileDetails.type.slice(0,1) || 'N'}}
                            </span>
                        </div>
                    </a>
                </div>

                <div class="col-sm-10">
                    <div class="row">
                        <div class="col-sm-8">
                            <h6>{{file.fileDetails.name }}</h6>
                        </div>

                        <div class="col-sm-3">
                            <input type="number" ng-model="file.playlistDetails.duration" min="5"
                                   ng-model-options="{ updateOn: 'blur' }" ng-change="saveData()"
                                   class="form-control input-sm"/>
                        </div>

                        <div class="col-sm-1">
                            <button ng-click="removeAsset($index)" class="btn btn-xs btn-warning">X</button>
                        </div>
                    </div>

                    <div ng-show="asset.showAssets.playlist.layout &amp;&amp; layoutOtherZones[asset.showAssets.playlist.layout].length"
                         class="row">

                        <div class="col-sm-12">
                            <label ng-class="{'label-danger':file.playlistDetails.fullscreen,'label-default':!file.playlistDetails.fullscreen}"
                                   class="label">
                                <input type="checkbox" name="fullscreen"
                                       ng-model="file.playlistDetails.fullscreen"/><span>&nbsp;Xem toàn màn hình</span>
                            </label>
                        </div>

                        <div class="col-sm-12">
                            <small class="text-primary">Thêm nội dung khu vực khác
                                <span ng-repeat="zone in layoutOtherZones[asset.showAssets.playlist.layout]">
                                    <div ng-if="!customZonesPresent || customZonesPresent[zone]" class="btn-group">
                                        <button ng-click="linkFile(file.playlistDetails,zone)" class="btn btn-xs btn-info">
                                            <small>{{zone}}: {{file.playlistDetails[zone]}}&nbsp;</small>
                                            <i ng-if="!file.playlistDetails[zone]" class="fa fa-paperclip"></i>
                                        </button>

                                        <button ng-if="file.playlistDetails[zone]" ng-click="removeLinkFile(file,zone)"
                                                class="btn btn-xs btn-warning">X
                                        </button>
                                    </div>
                                </span>
                            </small>
                        </div>
                    </div>

                    <div class="row">
                        <div ng-show="file.fileDetails.type == &quot;video&quot;" class="col-sm-8">
                            <label title="mute the audio" class="btn btn-link text-muted">
                                <input type="checkbox" ng-model="file.playlistDetails.option.main"
                                       ng-model-options="{ debounce: 500 }"/>
                                <span class="pl-5">Tắt tiếng</span>
                            </label>
                        </div>

                        <div ng-show="file.fileDetails.type == &quot;audio&quot; || file.fileDetails.type == &quot;radio&quot;"
                             class="col-sm-8">
                            <label title="play in background" class="btn btn-link text-muted">
                                <input type="checkbox" ng-model="file.playlistDetails.option.main"
                                       ng-model-options="{ debounce: 500 }" ng-true-value="false" ng-false-value="true"
                                       ng-checked="file.playlistDetails.option.main !== true"/>
                                <span class="pl-5">Phát nền</span>
                            </label>
                        </div>

                        <div ng-show="file.fileDetails.type == &quot;pdf&quot;" class="col-sm-8">
                            <label title="use presentation mode" class="btn btn-link text-muted">
                                <input type="checkbox" ng-model="file.playlistDetails.option.main"
                                       ng-model-options="{ debounce: 500 }"/>
                                <span class="pl-5">Sử dụng chế độ thuyết trình</span>
                            </label>
                        </div>

                        <div class="col-sm-3" ng-show="file.fileDetails.type == &quot;pdf&quot;">
                            <input ng-show="file.playlistDetails.option.main" type="number"
                                   ng-model="file.playlistDetails.option.subduration" min="1"
                                   placeholder="duration for each slide" ng-model-options="{ debounce: 500 }"
                                   class="form-control input-sm"/>
                        </div>

                        <!--span(ng-show="asset.showAssets.playlist.layout != '2bp' && asset.showAssets.playlist.layout != '2bp270'")-->
                        <!--        button.btn.btn-xs.btn-info(ng-click="linkFile(file.playlistDetails,'side')")-->
                        <!--            span Side Zone:&nbsp; {{file.playlistDetails.side || "Select a file"}}-->
                        <!--        button.btn.btn-xs.btn-warning(ng-if="file.playlistDetails.side",-->
                        <!--        ng-click="removeLinkFile(file,'side')") X-->
                        <!--    span(ng-show="asset.showAssets.playlist.layout != '2a' && asset.showAssets.playlist.layout != '2b' && asset.showAssets.playlist.layout != '2c' && asset.showAssets.playlist.layout != '2d'")-->
                        <!--        button.btn.btn-xs.btn-info(ng-click="linkFile(file.playlistDetails,'bottom')")-->
                        <!--            span Bottom Zone: {{file.playlistDetails.bottom || "Select a file"}}-->
                        <!--        button.btn.btn-xs.btn-warning(ng-if="file.playlistDetails.bottom",-->
                        <!--                            ng-click="removeLinkFile(file,'bottom')") X-->
                    </div>

                    <div class="row">
                        <div class="col-sm-8">
                            <small class="btn btn-link">
                                Cài đặt số lần phát cho nội dung:
                            </small>
                        </div>

                        <div class="col-sm-3">
                            <input type="number"
                                   ng-model="file.playlistDetails.option.playTime" min="0"
                                   placeholder="Số lần" ng-model-options="{ debounce: 500 }"
                                   class="form-control input-sm"/>
                        </div>

                        <div class="col-sm-1 pull-right">
                            <a title="{{'Duplicate this asset to add multiple times in the playlist'}}"
                               ng-click="makeCopy(file,$index)" class="btn btn-xs btn-link">
                                <i class="fa fa-copy"></i>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </li>

        <li ng-if="!asset.showAssets || !asset.showAssets.assets.length" class="list-group-item">
            <h4 class="text-danger">Không có gì để hiển thị, Vui lòng kéo nội dung vào hộp này</h4>
        </li>
    </ul>
</div>
